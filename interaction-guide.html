<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>墨刀AI 4.0 改版交互说明</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', 'PingFang SC', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: #FAFBFC;
            color: #1F2937;
            line-height: 1.6;
        }
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 40px 20px;
        }
        h1 {
            font-size: 2.25rem;
            font-weight: 800;
            color: #111827;
            margin-bottom: 2rem;
            letter-spacing: -0.025em;
        }
        h3 {
            font-size: 1.5rem;
            font-weight: 700;
            color: #1F2937;
            margin-top: 2.5rem;
            margin-bottom: 1.25rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid #E5E7EB;
        }
        h4 {
            font-size: 1.125rem;
            font-weight: 600;
            color: #374151;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
        }
        p {
            margin-bottom: 1rem;
            color: #4B5563;
        }
        ul, ol {
            margin-bottom: 1rem;
            padding-left: 1.5rem;
            color: #4B5563;
        }
        ul { list-style-type: disc; }
        ol { list-style-type: decimal; }
        li { margin-bottom: 0.5rem; }
        
        blockquote {
            border-left: 4px solid #4F46E5;
            background-color: #EEF2FF;
            padding: 1rem;
            border-radius: 0.5rem;
            margin-bottom: 1.5rem;
            color: #4338CA;
        }
        blockquote strong {
            color: #312E81;
        }

        code {
            font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
            background-color: #F3F4F6;
            padding: 0.2rem 0.4rem;
            border-radius: 0.25rem;
            font-size: 0.875em;
            color: #EF4444;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 2rem;
            background-color: white;
            border-radius: 0.5rem;
            overflow: hidden;
            box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
        }
        th, td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #E5E7EB;
            text-align: left;
        }
        th {
            background-color: #F9FAFB;
            font-weight: 600;
            color: #374151;
            font-size: 0.875rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }
        tr:hover {
            background-color: #F9FAFB;
        }
        td {
            font-size: 0.95rem;
        }

        /* 状态标签样式 */
        .tag {
            display: inline-block;
            padding: 0.125rem 0.5rem;
            border-radius: 9999px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-right: 0.5rem;
        }
        .tag-blue { background-color: #DBEAFE; color: #1E40AF; }
        .tag-green { background-color: #D1FAE5; color: #065F46; }
        .tag-yellow { background-color: #FEF3C7; color: #92400E; }
        .tag-gray { background-color: #F3F4F6; color: #1F2937; }

        .back-link {
            display: inline-flex;
            align-items: center;
            color: #6B7280;
            font-size: 0.875rem;
            margin-bottom: 2rem;
            transition: color 0.2s;
        }
        .back-link:hover {
            color: #4F46E5;
        }
    </style>
</head>
<body>
    <div class="container">
        <a href="index.html" class="back-link">
            <i class="fa-solid fa-arrow-left mr-2"></i> 返回 Dashboard
        </a>

        <h1>墨刀AI 4.0 改版交互说明</h1>

        <blockquote>
            <p><strong>文档信息</strong></p>
            <p>📅 <strong>更新日期</strong>：2026-02-02</p>
            <p>📝 <strong>文档状态</strong>：已发布</p>
        </blockquote>

        <h3>1. 概述</h3>
        <p>本次改版主要针对墨刀AI首页输入框下方区域进行重构，引入结构化的 <strong>"一级Tab + 二级功能卡片"</strong> 导航体系，以提升用户探索和使用AI能力的效率。</p>

        <h3>2. 交互区域定义</h3>

        <h4>2.1 一级导航 (L1 Tabs)</h4>
        <p>位于输入框正下方，采用横向滚动布局（移动端适配）或弹性布局（PC端）。</p>
        <ul>
            <li><strong>交互逻辑</strong>
                <ul>
                    <li>点击任意Tab，立即切换下方二级内容区域。</li>
                    <li><strong>默认选中</strong>：“推荐” (Recommend)。</li>
                </ul>
            </li>
            <li><strong>状态样式</strong>
                <ul>
                    <li><strong>默认</strong>：半透明背景，灰色图标/文字。</li>
                    <li><strong>Hover</strong>：白色背景，轻微上浮，显示阴影。</li>
                    <li><strong>选中</strong>：白色背景，高亮边框，图标变为品牌色背景+白字，卡片上浮。</li>
                </ul>
            </li>
        </ul>

        <h4>2.2 二级功能卡片 (L2 Cards)</h4>
        <p>根据一级Tab的选择动态展示对应的功能网格。</p>
        <ul>
            <li><strong>卡片结构</strong>：左侧图标 + 右侧标题/描述 + (可选) 右上角操作指引图标。</li>
            <li><strong>交互状态</strong>
                <ul>
                    <li><strong>Hover</strong>：卡片上浮，背景变为渐变色，出现操作箭头（普通箭头或新窗口箭头）。</li>
                    <li><strong>点击</strong>：触发下述三种交互模式之一。</li>
                </ul>
            </li>
        </ul>

        <h3>3. 核心交互模式详解</h3>
        <p>根据功能类型，二级卡片点击后分为三种交互逻辑：</p>

        <h4>模式 A：直接跳转 (Direct Link)</h4>
        <p>点击卡片后，不经过输入框，直接在新标签页打开对应工具或页面。</p>
        <ul>
            <li><strong>视觉标识</strong>：Hover时右上角显示 "新窗口打开" 图标 <code>fa-arrow-up-right-from-square</code>。</li>
            <li><strong>适用场景</strong>
                <ul>
                    <li>HTML转原型 (新窗口打开，复用现有功能)</li>
                    <li>思维导图 (新窗口打开，墨刀白板编辑区-打开AI右侧栏)</li>
                    <li>AI美化PPT (新窗口打开，墨刀工作台-首页-AI美化PPT-打开本地文件夹弹框)</li>
                    <li>思维导图、流程图、用户旅程图和项目进度图等图表类功能</li>
                </ul>
            </li>
        </ul>

        <h4>模式 B：能力挂载 (Capability Selection)</h4>
        <p>点击卡片后，该能力作为一个“标签(Tag)”挂载到输入框内部左侧，聚焦输入框引导用户输入。</p>
        <ul>
            <li><strong>交互流程</strong>
                <ol>
                    <li>点击卡片。</li>
                    <li>输入框内左上角出现对应标签（如“AI生成原型”）。</li>
                    <li>光标自动聚焦在标签后方。</li>
                    <li><strong>特殊情况</strong>：如果是“图片转原型”，在挂载标签的同时，自动触发系统文件选择器 (<code>input type="file"</code>)。</li>
                </ol>
            </li>
            <li><strong>取消挂载</strong>
                <ul>
                    <li><strong>方式1</strong>：点击输入框内标签右侧的 "x" 可移除当前能力。</li>
                    <li><strong>方式2</strong>：再次单击输入框下方任意一级Tab（包括当前选中的Tab），会自动清除当前挂载的标签，并重新展开二级卡片区域。</li>
                </ul>
            </li>
            <li><strong>界面联动</strong>：标签挂载成功后，下方的二级卡片区域会自动收起（Collapse），减少干扰。</li>
        </ul>

        <h4>模式 C：生成式跳转 (Generation Flow)</h4>
        <p>这是一种特殊的组合交互，用户先选择能力，输入内容后，经过AI处理再打开新页面。</p>
        <ul>
            <li><strong>典型案例</strong>：“AI生成PPT” (位于PPT分类下)</li>
            <li><strong>交互流程</strong>
                <ol>
                    <li><strong>挂载</strong>：用户点击“AI生成PPT”，标签挂载到输入框。</li>
                    <li><strong>输入</strong>：用户输入规划主题（如“2026年Q1产品规划”）。</li>
                    <li><strong>发送</strong>：点击发送按钮。</li>
                    <li><strong>加载</strong>：
                        <ul>
                            <li>界面显示全屏毛玻璃加载层 (Overlay)。</li>
                            <li>展示动态文案：“正在解析内容...”。</li>
                            <li>展示高级动效（光环旋转 + 脉冲）。</li>
                        </ul>
                    </li>
                    <li><strong>结果</strong>：等待处理完毕（约4.5秒）后，自动在新标签页打开生成结果 (<code>ppt-outline.png</code>)。</li>
                </ol>
            </li>
        </ul>

        <h3>4. 详细功能映射表</h3>
        <table>
            <thead>
                <tr>
                    <th width="15%">一级分类</th>
                    <th width="20%">二级功能</th>
                    <th width="15%">交互模式</th>
                    <th width="50%">备注</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td rowspan="6"><strong>推荐</strong></td>
                    <td>AI生成原型</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
                <tr>
                    <td>图片转原型</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td>伴随文件上传</td>
                </tr>
                <tr>
                    <td>需求文档PRD</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
                <tr>
                    <td>HTML转原型</td>
                    <td><span class="tag tag-yellow">模式 A</span></td>
                    <td>新窗口打开（同现有功能）</td>
                </tr>
                <tr>
                    <td>竞品分析</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
                <tr>
                    <td>产品方案评审</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
                <!-- 原型设计 -->
                <tr>
                    <td rowspan="4"><strong>原型设计</strong></td>
                    <td>AI生成原型</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
                <tr>
                    <td>图片转原型</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td>伴随打开本地文件夹窗口</td>
                </tr>
                <tr>
                    <td>HTML转原型</td>
                    <td><span class="tag tag-yellow">模式 A</span></td>
                    <td>新窗口打开（同现有功能）</td>
                </tr>
                <tr>
                    <td>交互方案生成</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
                <!-- 产品策划 -->
                <tr>
                    <td rowspan="5"><strong>产品策划</strong></td>
                    <td>需求文档PRD</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
                <tr>
                    <td>竞品分析</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
                <tr>
                    <td>用户调研</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
                <tr>
                    <td>产品方案评审</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
                <tr>
                    <td>产品规划</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
                <!-- PPT -->
                <tr>
                    <td rowspan="2"><strong>PPT</strong></td>
                    <td>AI生成PPT</td>
                    <td><span class="tag tag-green">模式 C</span></td>
                    <td><strong>特殊流程</strong> (输入->加载->跳转)</td>
                </tr>
                <tr>
                    <td>AI美化PPT</td>
                    <td><span class="tag tag-yellow">模式 A</span></td>
                    <td>新窗口打开 (墨刀工作台-首页-AI美化ppt-打开文件夹弹框)</td>
                </tr>
                <!-- UI设计 -->
                <tr>
                    <td rowspan="2"><strong>UI设计</strong></td>
                    <td>AI生成界面设计</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
                <tr>
                    <td>UI规范评审</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
                <!-- 营销推广 -->
                <tr>
                    <td><strong>营销推广</strong></td>
                    <td>SEO文章生成</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
                <!-- 研发测试 -->
                <tr>
                    <td rowspan="3"><strong>研发测试</strong></td>
                    <td>测试用例生成</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
                <tr>
                    <td>技术方案生成</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
                <tr>
                    <td>技术方案评估</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
                <!-- 图表 -->
                <tr>
                    <td rowspan="5"><strong>图表</strong></td>
                    <td>思维导图</td>
                    <td><span class="tag tag-yellow">模式 A</span></td>
                    <td>新窗口打开（墨刀白板编辑区-AI侧边栏打开）</td>
                </tr>
                <tr>
                    <td>流程图</td>
                    <td><span class="tag tag-yellow">模式 A</span></td>
                    <td>新窗口打开（墨刀白板编辑区-AI侧边栏打开）</td>
                </tr>
                <tr>
                    <td>用户旅程图</td>
                    <td><span class="tag tag-yellow">模式 A</span></td>
                    <td>新窗口打开（墨刀白板编辑区-AI侧边栏打开）</td>
                </tr>
                <tr>
                    <td>项目进度图</td>
                    <td><span class="tag tag-yellow">模式 A</span></td>
                    <td>新窗口打开（墨刀白板编辑区-AI侧边栏打开）</td>
                </tr>
                <tr>
                    <td>生成AntV-X6流程图</td>
                    <td><span class="tag tag-blue">模式 B</span></td>
                    <td></td>
                </tr>
            </tbody>
        </table>

        <h3>5. 动效与反馈说明</h3>
        <ul>
            <li><strong>输入框响应</strong>：当标签挂载时，输入文本会有缩进 (Text Indent) 避让标签。</li>
            <li><strong>折叠动画</strong>：当标签挂载（选中二级功能）时，下方的二级卡片区域会自动收起，释放空间给输入和对话区域。</li>
            <li><strong>Loading态</strong>：输入框输入内容后，单击发送，发送的动效和逻辑与线上现有逻辑保持一致。
                <blockquote>
                    注：若是模式 C (AI生成PPT)，在此基础上还会额外叠加全屏沉浸式 Loading。
                </blockquote>
            </li>
        </ul>

        <h3>6. 其他场景补充</h3>
        <ul>
            <li><strong>富媒体生成支持</strong><br>
                部分场景（如AI生成配图、AI生成图标等）生成的内容包含图片格式。系统支持在对话流中直接插入并展示生成的图片内容，复用现有功能。
            </li>
            <li><strong>文档生成限制</strong><br>
                对于生成文档类内容（如SEO文章生成、需求文档PRD等），目前生成的文档 <strong>不支持插入图片</strong>。本期版本暂不支持在生成的文档结构中包含图片元素。
            </li>
            <li><strong>旧能力与新场景对应关系</strong>
                <ul>
                    <li>原型设计 &gt; ai生成原型</li>
                    <li>方案撰写 &gt; 需求文档PRD</li>
                    <li>产品调研 &gt; 竞品分析</li>
                    <li>方案评审 &gt; 产品方案评审</li>
                </ul>
            </li>
            <li><strong>投放页跳转</strong><br>
                用户在AI投放页中选择对应的旧能力并输入需求后，跳转墨刀AI后，按照新旧能力对应关系，默认选中对应的新场景，并默认带入响应的用户需求
            </li>
            <li><strong>附件上传限制</strong>
                <ul>
                    <li>当选中“AI生成PPT”能力时，输入框右下角的附件上传按钮置灰禁用。
                        <ul>
                            <li><strong>交互反馈</strong>：鼠标 Hover 禁用按钮时，显示提示文案：“AI生成PPT暂不支持上传附件”。</li>
                            <li><strong>场景切换</strong>：若用户在其他场景下上传了附件，切换到AI生成PPT时，相关附件置灰色，不可删除。hover到附件上时显示提示文案：“AI生成PPT暂不支持上传附件”。</li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>

        <h3>7. 私有化部署</h3>
        <ul>
            <li><strong>场景屏蔽</strong><br>
                对于私有化环境不支持的AI场景（由后端接口控制），前端需隐藏对应的二级功能卡片；当一级Tab下的二级功能为空时，不显示对应的一级Tab。
            </li>
        </ul>
        
        <div style="height: 60px;"></div>
    </div>
</body>
</html>